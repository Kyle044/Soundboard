$(document).ready(function () {
  $("[data-bs-tooltip]").tooltip();
});

// traverse steps code
var step = document.querySelectorAll(".step");
var loadingContainer = document.getElementById("loadingContainer");
var qualifyingQuestions = document.getElementById("qualifyingQuestions");
var closingBtn = document.getElementById("closingBtn");
var closingPart = document.getElementById("closingPart");
function reset(cb) {
  for (i = 0; i < step.length; i++) {
    step[i].style.display = "none";
  }
  step[0].style.display = "block";
  closingPart.style.display = "none";
  resetBtnsReb();

  cb();
}
function resetBtnsReb() {
  document.getElementById("permanentresidencyq").style.display = "none";
  document.getElementById("ownedpropertyq").style.display = "none";
  document.getElementById("home80kq").style.display = "none";
  document.getElementById("estimatedvalq").style.display = "none";
  document.getElementById("ageq").style.display = "none";
  document.getElementById("amountaccessq").style.display = "none";
  document.getElementById("idealuseq").style.display = "none";
}

function endLoading() {
  setInterval(() => {
    loadingContainer.style.display = "none";
  }, 500);
}
function next_step() {
  var index;
  var current;
  step.forEach((st, i) => {
    if (st.style.display == "block") {
      current = st;
      index = i;
    }
  });
  current.style.display = "none";
  step[index + 1].style.display = "block";
  console.log(index);
}

function closingBtnTrigger() {
  qualifyingQuestions.style.display = "none";
  closingPart.style.display = "flex";
  resetBtnsReb();
  document.getElementById("arrowToClosingPart").style.display = "none";
  document.getElementById("intitle").innerText = "CLOSING PART";
}

function qualifyingBtnTrigger() {
  qualifyingQuestions.style.display = "flex";
  closingPart.style.display = "none";
  resetBtnsReb();
  document.getElementById("arrowToClosingPart").style.display = "block";
  document.getElementById("intitle").innerText = "QUALIFYING QUESTIONS";
}

// qualifying question rebbuttals
function permanent_residency_rebq() {
  document.getElementById("permanentresidencyq").style.display = "block";
  document.getElementById("ownedpropertyq").style.display = "none";
  document.getElementById("home80kq").style.display = "none";
  document.getElementById("estimatedvalq").style.display = "none";
  document.getElementById("ageq").style.display = "none";
  document.getElementById("amountaccessq").style.display = "none";
  document.getElementById("idealuseq").style.display = "none";
  document.getElementById("qtitle").innerText = "PERMANENT RESIDENCY REBUTTALS";
}
function owned_property_rebq() {
  document.getElementById("permanentresidencyq").style.display = "none";
  document.getElementById("ownedpropertyq").style.display = "block";
  document.getElementById("home80kq").style.display = "none";
  document.getElementById("estimatedvalq").style.display = "none";
  document.getElementById("ageq").style.display = "none";
  document.getElementById("amountaccessq").style.display = "none";
  document.getElementById("idealuseq").style.display = "none";
  document.getElementById("qtitle").innerText = "OWNED PROPERTY REBUTTALS";
}
function home_worth_rebq() {
  document.getElementById("permanentresidencyq").style.display = "none";
  document.getElementById("ownedpropertyq").style.display = "none";
  document.getElementById("home80kq").style.display = "block";
  document.getElementById("estimatedvalq").style.display = "none";
  document.getElementById("ageq").style.display = "none";
  document.getElementById("amountaccessq").style.display = "none";
  document.getElementById("idealuseq").style.display = "none";
  document.getElementById("qtitle").innerText =
    "HOME WORTH 80K POUNDS / 200k POUNDS REBUTTALS";
}

function estimated_value_rebq() {
  document.getElementById("permanentresidencyq").style.display = "none";
  document.getElementById("ownedpropertyq").style.display = "none";
  document.getElementById("home80kq").style.display = "none";
  document.getElementById("estimatedvalq").style.display = "block";
  document.getElementById("ageq").style.display = "none";
  document.getElementById("amountaccessq").style.display = "none";
  document.getElementById("idealuseq").style.display = "none";
  document.getElementById("qtitle").innerText = "ESTIMATED VALUE REBUTTALS";
}
function age_rebq() {
  document.getElementById("permanentresidencyq").style.display = "none";
  document.getElementById("ownedpropertyq").style.display = "none";
  document.getElementById("home80kq").style.display = "none";
  document.getElementById("estimatedvalq").style.display = "none";
  document.getElementById("ageq").style.display = "block";
  document.getElementById("amountaccessq").style.display = "none";
  document.getElementById("idealuseq").style.display = "none";
  document.getElementById("qtitle").innerText = "AGE REBUTTALS";
}
function amount_to_access_rebq() {
  document.getElementById("permanentresidencyq").style.display = "none";
  document.getElementById("ownedpropertyq").style.display = "none";
  document.getElementById("home80kq").style.display = "none";
  document.getElementById("estimatedvalq").style.display = "none";
  document.getElementById("ageq").style.display = "none";
  document.getElementById("amountaccessq").style.display = "block";
  document.getElementById("idealuseq").style.display = "none";
  document.getElementById("qtitle").innerText = "AMOUNT TO ACCESS REBUTTALS";
}

function ideal_use_rebq() {
  document.getElementById("permanentresidencyq").style.display = "none";
  document.getElementById("ownedpropertyq").style.display = "none";
  document.getElementById("home80kq").style.display = "none";
  document.getElementById("estimatedvalq").style.display = "none";
  document.getElementById("ageq").style.display = "none";
  document.getElementById("amountaccessq").style.display = "none";
  document.getElementById("idealuseq").style.display = "block";
  document.getElementById("qtitle").innerText = "IDEAL USE CASH FOR REBUTTALS";
}
reset(endLoading);
